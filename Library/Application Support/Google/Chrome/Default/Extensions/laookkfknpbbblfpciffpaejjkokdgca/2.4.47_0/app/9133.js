(self.webpackChunkmomentum_extension=self.webpackChunkmomentum_extension||[]).push([[9133],{4101:()=>{addin.collect.PomodorosComplete=m.collect.SyncedCollection.extend({initialize:function(){let t={};m.conditionalFeatures.featureEnabled("offlineDataOnly")&&(t.offlineOnly=!0),this.model=addin.models.PomodorosComplete,t.idAttribute="id",t.name="pomodorosCompleted",t.model=this.model,t.readOnly=!1,t.apiUrl=m.globals.urlRootApi+"pomodoro/completed",localStorage.getItem("pomodoroCompletedCounts")&&m.trigger("pomodoro:completedStats",localStorage.getObject("pomodoroCompletedCounts")),m.collect.SyncedCollection.prototype.initialize.call(this,null,t)},parse(t){if(!t)return;if(Array.isArray(t))return t;let e={counts:t.counts,focusedMinutes:t.focusedMinutes};return localStorage.setItem("pomodoroCompletedCounts",JSON.stringify(e)),m.trigger("pomodoro:completedStats",e),t.completed}})},6110:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});const i={focus:["Time to focus.","Focus time."],rest:["Time for a break.","Break time."]}},1716:()=>{window.addin=window.addin||{models:{},collect:{},views:{}},addin.models.PomodorosComplete=Backbone.Model.extend({defaults:{completed:(new Date).toISOString().split(".")[0]+"Z",focusMinutes:0,restMinutes:0},initialize:function(){this.attributes.createdDate=m.date()}})},8294:(t,e,o)=>{(t.exports=o(3645)(!1)).push([t.id,"\n.has-pomodoro .center-above { display: block;\n} \n",""])},3894:(t,e,o)=>{(t.exports=o(3645)(!1)).push([t.id,"\n.pomodoro[data-v-40bf475c] { padding: 5rem 0; display: block;\n}\n.above[data-v-40bf475c], .below[data-v-40bf475c] { position: absolute; left: 0; right: 0; text-align: center;\n}\n.above[data-v-40bf475c] { margin-top: -44px; display: flex; flex-direction: column; align-items: center;\n}\n.linear[data-v-40bf475c] { width: 38ch; position: absolute; bottom: calc(100% + 6px); stroke: white;\n}\n.linear-path[data-v-40bf475c], .linear-progress[data-v-40bf475c] { stroke-dasharray: 101;\n}\n.linear-path[data-v-40bf475c] { opacity: 0.6; stroke-width: 1px;\n}\n.linear-progress[data-v-40bf475c] { opacity: 1; transition: 0.2s ease; stroke-width: 4px;\n}\n.modes[data-v-40bf475c] { display: flex; font-size: 1.125rem; font-weight: 600; text-align: center; text-transform: uppercase;\n}\n.mode[data-v-40bf475c] { padding: 5px 12px; display: inline-block; opacity: 0.65; cursor: pointer;\n}\n.mode[data-v-40bf475c]:hover, .mode.active[data-v-40bf475c] { opacity: 1;\n}\n.mode-focus[data-v-40bf475c] { margin-right: 4px;\n}\n.progress-container[data-v-40bf475c] {\n}\n.progress-bar[data-v-40bf475c], .progress[data-v-40bf475c] { height: 6px; width: 100%; background: rgba(255,255,255,0.5); border-radius: 6px;\n}\n.progress[data-v-40bf475c] { width: 0%; background: white; text-align: left; transition: 0.2s ease;\n}\n.left[data-v-40bf475c] {\n}\n.center-col[data-v-40bf475c] {\n}\n.greeting-wrapper[data-v-40bf475c] { position: relative;\n}\n\t\t\t/* We use the font-size-greeting var in 3 separate places here. Is there a way to simplify? */\n.greeting-inner-wrapper[data-v-40bf475c] { width: 100%; position: absolute; font-size: var(--font-size-greeting); font-weight: 500; text-align: center;\n}\n.greeting-inner-wrapper.placeholder[data-v-40bf475c] { position: static; visibility: hidden;\n}\n\n\t\t/* Focus Overrides */\n.center-focus[data-v-40bf475c] { display: block; font-size: 100% !important;\n}\n.center-focus[data-v-40bf475c] .focus-content { position: relative;\n}\n.center-focus[data-v-40bf475c] .prompt { padding-bottom: 0;\n}\n.center-focus[data-v-40bf475c] .focus-input, .prompt .hidden-data[data-v-40bf475c] { padding: 0; border: none; border-bottom: none; font-size: var(--font-size-greeting) !important; line-height: normal;\n}\n.center-focus[data-v-40bf475c] .more-toggle { top: -6px !important;\n}\n\n\t\t\t/* ••• hover effects -> Prevent focus ••• from showing when general center pomodoro is hovered  */\n.center-focus[data-v-40bf475c] .dash-icon { opacity: 0;\n}\n.center-focus[data-v-40bf475c]:hover .dash-icon { opacity: 0.8;\n}\n.right[data-v-40bf475c] {\n}\n.below[data-v-40bf475c] { margin-top: 35px;\n}\n.button[data-v-40bf475c] { --v-padding: 9px; --background-color: rgba(0,0,0,0.25); padding: var(--v-padding) 32px; display: inline-flex; background: var(--background-color); border-radius: 50px; border: 2px solid #fff; box-shadow: 0 0 12px var(--background-color); color: #fff; cursor: pointer; font-size: 0.9375rem; font-weight: 600; outline: none; text-transform: uppercase;\n}\n.button[data-v-40bf475c]:hover { background: rgba(0,0,0,0.175);\n}\n.button[data-v-40bf475c]:hover:active { background: rgba(0,0,0,0.1); transition-duration: 0s;\n}\n.button.disabled[data-v-40bf475c] { visibility: hidden; transition: opacity 500ms var(--a-curve);\n}\n\n/*\t.circle { position: absolute; top: 0; left: 0; bottom: 0; right: 0; z-index: -1; display: flex; justify-content: center; align-items: center; }\n\t\t.circle-svg { --size: 750px; height: var(--size); max-height: 90vh; width: var(--size); fill: none; stroke: white; transform: rotate(-43deg); }\n\t\t\t.circle-path, .circle-progress { stroke-dasharray: 283; }\n\t\t\t.circle-path { stroke-dashoffset: -73%; opacity: 0.6; stroke-width: 0.5px; }\n\t\t\t.circle-progress { opacity: 1; stroke-width: 1.31px; transition: 0.2s ease; }*/\n@media screen and (max-width: 450px) {\n.linear[data-v-40bf475c] { width: 62%;\n}\n.modes[data-v-40bf475c] { font-size: 1rem;\n}\n.mode[data-v-40bf475c] {\n}\n.time[data-v-40bf475c] { font-size: 5rem; font-weight: 500; letter-spacing: -1px;\n}\n.pomodoro .greeting-inner-wrapper[data-v-40bf475c] { --font-size-greeting: clamp(10px, 8vw, 32px); margin-top: 2px;\n}\n.center-focus[data-v-40bf475c] .focus-input, .prompt .hidden-data[data-v-40bf475c] { margin: 0;\n}\n\n\t/* Dropdown */\n[data-v-40bf475c] .stats { padding-left: var(--toast-padding) !important; padding-right: var(--toast-padding) !important; background: none !important;\n}\n}\n\n",""])},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o=function(t,e){var o,i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=(o=s,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),r=s.sources.map((function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"}));return[i].concat(r).concat([n]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o})).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},s=0;s<this.length;s++){var n=this[s][0];null!=n&&(i[n]=!0)}for(s=0;s<t.length;s++){var r=t[s];null!=r[0]&&i[r[0]]||(o&&!r[2]?r[2]=o:o&&(r[2]="("+r[2]+") and ("+o+")"),e.push(r))}},e}},9133:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>c});var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"clock pomodoro app-container has-dash-icon",class:{running:t.started},attrs:{"data-test":"pomodoro"}},[o("div",{staticClass:"above"},[o("svg",{staticClass:"linear",attrs:{viewBox:"0 0 100 2",xmlns:"http://www.w3.org/2000/svg"}},[o("line",{staticClass:"linear-path",attrs:{x1:"0",y1:"1",x2:"100",y2:"1"}}),t._v(" "),o("line",{staticClass:"linear-progress",attrs:{x1:"0",y1:"0",x2:"100",y2:"0","stroke-dashoffset":t.dashProgress}})]),t._v(" "),o("nav",{staticClass:"modes"},[o("div",{staticClass:"mode mode-focus",class:{active:"Focus"==t.activeTimer.name},attrs:{"data-test":"focus"},on:{click:function(e){return t.clickTimer("focus")}}},[t._v("Focus")]),t._v(" "),o("div",{staticClass:"mode mode-break",class:{active:"Break"==t.activeTimer.name},attrs:{"data-test":"rest"},on:{click:function(e){return t.clickTimer("rest")}}},[t._v("Break")])])]),t._v(" "),o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("div",{key:t.activeTimerId,staticClass:"time-wrapper has-3-col"},[o("div",{staticClass:"side-col left"},[t.$touch?t._e():o("center-nav",{attrs:{"active-clock":"pomodoro"},on:{"switch-clock":t.switchClock}})],1),t._v(" "),o("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:t.showToastMenu,expression:"showToastMenu"}],staticClass:"center-col"},[o("pomodoro-time",{attrs:{"hide-seconds":t.hideSeconds,hours:t.hours,minutes:t.minutes,seconds:t.seconds}})],1),t._v(" "),o("div",{staticClass:"side-col right"},[o("pomodoro-dropdown",{attrs:{timers:t.timers,autoplay:t.autoplay,"hide-seconds":t.hideSeconds,"completed-stats":t.completedStats,"focus-visible":t.focusVisible},on:{"update:autoplay":function(e){t.autoplay=e},"update:hideSeconds":function(e){t.hideSeconds=e},"update:hide-seconds":function(e){t.hideSeconds=e},"update:timer":t.setTimerDuration,"complete-timer":t.completeTimer,"switch-clock":t.switchClock}})],1)])]),t._v(" "),o("div",{staticClass:"greeting-wrapper"},[o("transition",{attrs:{name:t.messageFade,mode:"out-in"}},[t.showFocusComponent?o("div",{staticClass:"greeting-inner-wrapper"},[o("focus",{staticClass:"center-focus",attrs:{"input-placeholder":"+ Add a focus","in-pomodoro":!0,"pomodoro-message":t.message}})],1):o("div",{key:t.message,staticClass:"greeting-inner-wrapper message",attrs:{"data-test":"message"}},[t._v(t._s(t.message))])]),t._v(" "),o("div",{staticClass:"greeting-inner-wrapper placeholder"},[t._v("Focus")])],1),t._v(" "),o("transition",{attrs:{name:"fade",mode:"out-in"}},[o("div",{key:t.activeTimerId,staticClass:"below"},[o("button",{staticClass:"button",class:{disabled:0===t.timeRemaining},attrs:{"data-test":"start-stop-button"},on:{click:t.toggleMasterPlayPause}},[t._v(t._s(t.started?"Stop":"Start"))])])])],1)};i._withStripped=!0;var s=o(6110),n=o(3244);o(1716),o(4101);const r=new(n.Z.extend({name:"PomodoroDataManager",data:()=>({completedStats:{counts:{today:0,week:0,allTime:0},focusedMinutes:{today:0,week:0,allTime:0}},intervalId:null}),created(){this.completedCountLocalStorageKey="pomodoroCompletedCounts",this.$e.listenTo(m,"pomodoro:completedStats",this.setCompletedStats),window.addEventListener("storage",this.handleCompletedStatsChange),this.createSyncedCollection()},destroyed(){this.$e.stopListening(m,"pomodoro:completedStats",this.setCompletedStats),clearInterval(this.intervalId)},methods:{createSyncedCollection(){addin.collect.pomodorosComplete=new addin.collect.PomodorosComplete},addCompletedPomodoro(t){try{addin.collect.pomodorosComplete.create(t)}catch(t){console.error(t)}finally{this.completedStats.counts.today++,this.completedStats.counts.allTime++,this.completedStats.counts.week++;const t=m.models.customization.get("pomodoroSettingsStr"),e=t&&JSON.parse(t),o=Number(e.focusDuration);this.completedStats.focusedMinutes.today+=o,this.completedStats.focusedMinutes.allTime+=o,this.completedStats.focusedMinutes.week+=o,localStorage.setItem(this.completedCountLocalStorageKey,JSON.stringify(this.completedStats))}},setCompletedStats(t){this.completedStats=t},handleCompletedStatsChange(t){if(t.key===this.completedCountLocalStorageKey){const e=JSON.parse(t.newValue);e&&this.setCompletedStats(e)}},fetch(){addin.collect.pomodorosComplete.fetch()},createIntervalFetch(){this.intervalId=setInterval((()=>{this.fetch()}),18e5)},clearIntervalFetch(){clearInterval(this.intervalId)}}})),a={name:"Pomodoro",components:{CenterNav:()=>o.e(295).then(o.bind(o,2502)),PomodoroTime:()=>o.e(6270).then(o.bind(o,6270)),PomodoroDropdown:()=>o.e(2999).then(o.bind(o,2999)),Focus:()=>o.e(8609).then(o.bind(o,8609))},unreactive:()=>({timers:{focus:{name:"Focus",minutes:25},rest:{name:"Break",minutes:5}}}),mixins:[o(1940).Z],data:()=>({activeTimerId:"focus",started:!1,timeRemaining:0,expectedTimerEnd:0,timer:null,autoplay:!1,hideSeconds:!1,focusVisible:m.models.customization.getComputedSetting("focusVisible"),currentFocus:null}),computed:{activeTimer(){return this.timers[this.activeTimerId]},startMessage(){return m.utils.getRandomItem(s.Z[this.activeTimerId])},dashProgress(){const t=60*this.activeTimer.minutes;return 143*this.timeRemaining/t+"%"},message(){return this.started||0!==this.timeRemaining?this.started?this.activeTimer.name:this.startMessage:"Done!"},showFocusComponent(){return this.focusVisible&&"Focus"===this.activeTimer.name&&0!==this.timeRemaining},messageFade(){return this.started?"fade-fast":"fade"},completedStats:()=>r.completedStats,hours(){return this.hideSeconds?Math.trunc(this.timeRemaining/3600).toString():m.utils.twoDigit(Math.trunc(this.timeRemaining/3600))},minutes(){return this.hideSeconds?Math.trunc(this.timeRemaining/60%60).toString():m.utils.twoDigit(Math.trunc(this.timeRemaining/60%60))},seconds(){return m.utils.twoDigit(this.timeRemaining%60)},timeString(){return this.hideSeconds?this.hours>0?`${this.hours}h ${this.minutes}m`:this.minutes+"m":this.hours>0?`${this.hours}:${this.minutes}:${this.seconds}`:`${this.minutes}:${this.seconds}`},documentTitle(){return this.focusVisible&&this.currentFocus&&"focus"===this.activeTimerId?`${this.timeString} · ${this.currentFocus}`:`${this.timeString} · ${this.activeTimer.name}`},isSafari:m.utils.isSafari},watch:{autoplay(){this.saveSettingsToCustomization("autoplay",this.autoplay),m.sendEvent("Pomodoro","autoplay-"+this.autoplay)},hideSeconds(){this.saveSettingsToCustomization("hideSeconds",this.hideSeconds),m.sendEvent("Pomodoro","hideseconds-"+this.hideSeconds)},documentTitle(){document.title=this.documentTitle}},mounted(){this.autoStartFocusTimer&&(window.pomodoroSounds.start.play(),this.start()),this.$body=$("body"),this.$body.addClass("has-pomodoro")},created(){if(window.addEventListener("storage",this.handleStorageChangeForStartedPomodoro),this.$e.listenTo(m,"newDay",this.resetToFocus),this.$e.listenTo(m,"pomodoro:togglePlay",this.togglePlay),this.$e.listenTo(m.models.customization,"change:focusVisible",this.focusVisibleChanged),this.$e.listenTo(m.models.customization,"change:pomodoroSettingsStr",this.handleSettingsChange),this.$e.listenTo(m,"focus:currentFocus",this.setCurrentFocus),this.settingsMigrationFromLocalToCustomization(),this.setSettingsFromCustomization(),r.fetch(),r.createIntervalFetch(),window.pomodoroSounds={start:new Audio("sounds/pomo-start.mp3"),stop:new Audio("sounds/pomo-stop.mp3"),done:new Audio("sounds/pomo-done.mp3")},"true"===localStorage.getItem("pomodoro-running")||localStorage.getItem("pomodoro-showing")||localStorage.getItem("pomodoro-time-remaining")){if(this.started="true"===localStorage.getItem("pomodoro-running"),this.autoStartFocusTimer="true"===localStorage.getItem("pomodoro-focus-timer"),this.autoStartFocusTimer)return this.setTimer("focus"),void localStorage.removeItem("pomodoro-focus-timer");this.activeTimerId=localStorage.getItem("pomodoro-started")||this.activeTimerId,localStorage.getItem("pomodoro-time-remaining")?this.timeRemaining=Number(localStorage.getItem("pomodoro-time-remaining")):localStorage.getItem("pomodoro-started-expected-timer-end")&&(this.expectedTimerEnd=Number(localStorage.getItem("pomodoro-started-expected-timer-end")),isNaN(this.expectedTimerEnd)||(this.timeRemaining=Math.floor((this.expectedTimerEnd-Date.now())/1e3))),this.timeRemaining>0&&this.started?this.timeOutForCountdown():this.timeRemaining<0?(localStorage.setItem("pomodoro-running",!1),"focus"===this.activeTimerId?this.setTimer("rest"):this.setTimer("focus"),this.clearStartedTimeout()):this.timeRemaining||this.setTimer(this.activeTimerId)}else this.setTimer(this.activeTimerId),this.removeAllPomodoroLocalStorageKeys()},destroyed(){this.$body.removeClass("has-pomodoro"),this.$e.stopListening(m,"focus:currentFocus",this.setCurrentFocus),this.$e.stopListening(m,"newDay",this.resetToFocus),this.$e.stopListening(m,"pomodoro:togglePlay",this.togglePlay),this.$e.stopListening(m.models.customization,"change:focusVisible",this.focusVisibleChanged),window.removeEventListener("storage",this.handleStorageChangeForStartedPomodoro),clearTimeout(this.timer)},methods:{countdown(){this.calculateTimeRemaining(),this.timeRemaining<=0||this.timeOutForCountdown()},timeOutForCountdown(){const t=1e3-(new Date).getMilliseconds()+10;this.timer=setTimeout(this.countdown,t)},calculateTimeRemaining(){if(this.timeRemaining>0&&(this.timeRemaining=Math.floor((this.expectedTimerEnd-Date.now())/1e3)),this.timeRemaining<=0)return this.isSafari?this.complete():this.completeDebounced()},togglePlay(){!0===this.started?(window.pomodoroSounds.stop.play(),this.stop()):(window.pomodoroSounds.start.play(),this.start())},toggleMasterPlayPause(t){this.togglePlay(),m.trigger("soundscapes:togglePlay",t)},completeDebounced(){clearTimeout(this.completeTimeout),this.completeTimeout=setTimeout(this.complete,100)},complete(){if("Focus"===this.activeTimer.name){const t={focusMinutes:this.timers.focus.minutes,restMinutes:this.timers.rest.minutes};r.addCompletedPomodoro(t)}window.pomodoroSounds.done.play(),this.timeRemaining=0,this.stop(),this.switchTimers(),m.sendEvent("Pomodoro","Completed")},switchTimers(){if(0===this.timeRemaining){const t=this.autoplay;setTimeout((()=>{"focus"===this.activeTimerId?this.setTimer("rest"):this.setTimer("focus"),t&&this.start()}),1500)}},reset(){this.setCountdownTimer(),this.stop(),localStorage.setItem("pomodoro-reset",!0),m.sendEvent("Pomodoro","Reset")},resetToFocus(){this.reset(),this.setTimer("focus"),this.setCountdownTimer()},start(){this.clearStartedTimeout(),this.started=!0,this.expectedTimerEnd=Date.now()+1e3*this.timeRemaining,localStorage.removeItem("pomodoro-time-remaining"),localStorage.setItem("pomodoro-running",!0),localStorage.setItem("pomodoro-started-expected-timer-end",this.expectedTimerEnd),this.timeOutForCountdown(),m.sendEvent("Pomodoro","Started")},stop(){this.clearStartedTimeout(),localStorage.setItem("pomodoro-running",!1),localStorage.setItem("pomodoro-time-remaining",this.timeRemaining),m.sendEvent("Pomodoro","Stopped")},setTimer(t){this.started&&this.stop(),this.activeTimerId=t,localStorage.setItem("pomodoro-started",this.activeTimerId),this.setCountdownTimer()},clickTimer(t){this.setTimer(t),localStorage.setItem("pomodoro-timer-type-change",t),m.sendEvent("Pomodoro","focus"===t?"Focus clicked":"Break clicked")},setCountdownTimer(){this.timeRemaining=60*this.activeTimer.minutes,localStorage.removeItem("pomodoro-started-expected-timer-end"),localStorage.removeItem("pomodoro-time-remaining")},setTimerDuration(t,e){this.started&&this.stop(),this.timers[t].minutes=e,this.setTimerWhenNotStarted(t),this.saveSettingsToCustomization(t+"Duration",this.timers[t].minutes),m.sendEvent("Pomodoro","Duration change",""+m.utils.capitalizeFirstLetter(t))},setTimerWhenNotStarted(t){this.started||this.activeTimerId!==t||(this.timeRemaining=60*this.timers[t].minutes)},closePomodoro(){this.stop(),localStorage.setItem("pomodoro-closed",!0),document.title="New Tab",this.removeAllPomodoroLocalStorageKeys(),m.sendEvent("Pomodoro","Closed"),r.clearIntervalFetch(),this.$emit("pomodoro-show",!1)},handleStorageChangeForStartedPomodoro(t){switch(t.key){case"pomodoro-running":if(null===t.newValue)return;"true"===t.newValue?(this.clearStartedTimeout(),this.started=!0,this.expectedTimerEnd=Date.now()+1e3*this.timeRemaining,this.timeOutForCountdown()):this.clearStartedTimeout();break;case"pomodoro-reset":if(null===t.newValue)return;this.setCountdownTimer(),this.clearStartedTimeout(),localStorage.removeItem("pomodoro-reset");break;case"pomodoro-closed":if(null===t.newValue)return;document.title="New Tab",r.clearIntervalFetch(),this.removeAllPomodoroLocalStorageKeys(),this.$emit("pomodoro-show",!1);break;case"pomodoro-complete":if(null===t.newValue)return;this.timeRemaining=0,this.stop(),this.switchTimers(),localStorage.removeItem("pomodoro-complete");break;case"pomodoro-timer-type-change":if(null===t.newValue)return;this.setTimer(t.newValue),this.setCountdownTimer(),localStorage.removeItem("pomodoro-timer-type-change");break;case"pomodoro-current-focus":if(null===t.newValue)return;this.setCurrentFocus(t.newValue)}},handleSettingsChange(){let t=this.getPomodoroSettingsFromCustomization();t&&(t.autoplay!==this.autoplay&&(this.autoplay=t.autoplay),t.hideSeconds!==this.hideSeconds&&(this.hideSeconds=t.hideSeconds),Number(t.focusDuration)!==this.timers.focus.minutes&&(this.timers.focus.minutes=Number(t.focusDuration),this.setTimerWhenNotStarted("focus")),Number(t.restDuration)!==this.timers.rest.minutes&&(this.timers.rest.minutes=Number(t.restDuration),this.setTimerWhenNotStarted("rest")))},clearStartedTimeout(){this.started=!1,clearTimeout(this.timer)},removeAllPomodoroLocalStorageKeys(){["pomodoro-showing","pomodoro-reset","pomodoro-running","pomodoro-closed","pomodoro-started-expected-timer-end","pomodoro-current-focus","pomodoro-timer-type-change","pomodoro-complete","pomodoro-focus-timer"].forEach((t=>{localStorage.removeItem(t)}))},switchClock(t){switch(t){case"clock":m.models.customization.save("percentClock",!1),this.closePomodoro();break;case"percent":m.models.customization.save("percentClock",!0),this.closePomodoro()}},focusVisibleChanged(){this.focusVisible=m.models.customization.getComputedSetting("focusVisible")},getPomodoroSettingsFromCustomization(){const t=m.models.customization.get("pomodoroSettingsStr");return t&&JSON.parse(t)},setSettingsFromCustomization(){let t=this.getPomodoroSettingsFromCustomization();t&&(this.timers.focus.minutes=Number(t.focusDuration),this.timers.rest.minutes=Number(t.restDuration),this.autoplay=t.autoplay,this.hideSeconds=t.hideSeconds)},saveSettingsToCustomization(t,e){let o=this.getPomodoroSettingsFromCustomization();o&&(o[t]=e,m.models.customization.save("pomodoroSettingsStr",JSON.stringify(o)))},settingsMigrationFromLocalToCustomization(){let t={"pomodoro-focus-duration":"focusDuration","pomodoro-rest-duration":"restDuration","pomodoro-autoplay":"autoplay"};Object.keys(t).forEach((e=>{localStorage.getItem(e)&&(this.saveSettingsToCustomization(t[e],localStorage.getItem(e)),localStorage.removeItem(e))}))},setCurrentFocus(t){this.currentFocus=t},completeTimer(){this.complete(),localStorage.setItem("pomodoro-complete",!0)},showToastMenu(){this.$e.$emit("pomodoro:toggleDropdown",!0)}}};o(2212),o(4693);var d=(0,o(1900).Z)(a,i,[],!1,null,"40bf475c",null);d.options.__file="source/addins-vue/pomodoro/Pomodoro.vue";const c=d.exports},2212:(t,e,o)=>{var i=o(8294);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(5346).Z)("aec7846a",i,!1,{ssrId:!0})},4693:(t,e,o)=>{var i=o(3894);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(5346).Z)("6a8059e4",i,!1,{ssrId:!0})},5346:(t,e,o)=>{"use strict";function i(t,e){for(var o=[],i={},s=0;s<e.length;s++){var n=e[s],r=n[0],a={id:t+":"+s,css:n[1],media:n[2],sourceMap:n[3]};i[r]?i[r].parts.push(a):o.push(i[r]={id:r,parts:[a]})}return o}o.d(e,{Z:()=>p});var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},r=s&&(document.head||document.getElementsByTagName("head")[0]),a=null,d=0,m=!1,c=function(){},l=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,o,s){m=o,l=s||{};var r=i(t,e);return g(r),function(e){for(var o=[],s=0;s<r.length;s++){var a=r[s];(d=n[a.id]).refs--,o.push(d)}for(e?g(r=i(t,e)):r=[],s=0;s<o.length;s++){var d;if(0===(d=o[s]).refs){for(var m=0;m<d.parts.length;m++)d.parts[m]();delete n[d.id]}}}}function g(t){for(var e=0;e<t.length;e++){var o=t[e],i=n[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(v(o.parts[s]));i.parts.length>o.parts.length&&(i.parts.length=o.parts.length)}else{var r=[];for(s=0;s<o.parts.length;s++)r.push(v(o.parts[s]));n[o.id]={id:o.id,refs:1,parts:r}}}}function f(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var e,o,i=document.querySelector("style["+u+'~="'+t.id+'"]');if(i){if(m)return c;i.parentNode.removeChild(i)}if(h){var s=d++;i=a||(a=f()),e=w.bind(null,i,s,!1),o=w.bind(null,i,s,!0)}else i=f(),e=y.bind(null,i),o=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else o()}}var S,b=(S=[],function(t,e){return S[t]=e,S.filter(Boolean).join("\n")});function w(t,e,o,i){var s=o?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,s);else{var n=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n)}}function y(t,e){var o=e.css,i=e.media,s=e.sourceMap;if(i&&t.setAttribute("media",i),l.ssrId&&t.setAttribute(u,e.id),s&&(o+="\n/*# sourceURL="+s.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}}}]);