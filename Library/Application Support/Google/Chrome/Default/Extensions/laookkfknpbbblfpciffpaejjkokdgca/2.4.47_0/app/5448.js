(self.webpackChunkmomentum_extension=self.webpackChunkmomentum_extension||[]).push([[5448],{7730:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"mobile-click",rawName:"v-mobile-click",value:t.toggleDropdown.bind(null,!0),expression:"toggleDropdown.bind(null, true)"}],staticClass:"app-container has-dash-icon has-3-col greeting",attrs:{"data-test":"greeting"}},[n("div",{staticClass:"side-col"}),t._v(" "),n("div",{staticClass:"center-col"},[n("message",{attrs:{message:t.greeting,"editing-name":t.editingName},on:{editing:t.editing},model:{value:t.greeting.name,callback:function(e){t.$set(t.greeting,"name",e)},expression:"greeting.name"}})],1),t._v(" "),n("div",{staticClass:"side-col"},[n(t.$touch?"ToastMenu":"Dropdown",{tag:"component",attrs:{"on-dash":!0,active:t.dropdownActive,"section-title":"Greeting Actions"},on:{toggle:t.toggleDropdown}},[n("dropdown-option",{attrs:{name:"Show todayâ€™s mantra","data-test":"show-mantra"},nativeOn:{click:function(e){return t.showMantra(e)}}}),t._v(" "),n("li",{staticClass:"line"}),t._v(" "),n("dropdown-option",{attrs:{name:"Edit your name","data-test":"edit-name"},nativeOn:{click:function(e){e.stopPropagation(),t.editingName=!0,t.dropdownActive=!1}}})],1)],1)])};a._withStripped=!0;var i=n(545),o=n(1940);const s={name:"Greeting",components:{Message:i.Z,ToastMenu:()=>n.e(408).then(n.bind(n,126)),Dropdown:()=>n.e(2819).then(n.bind(n,9385)),DropdownOption:()=>n.e(2672).then(n.bind(n,2672))},unreactive:()=>({mantraManager:m.models.mantraManager}),mixins:[o.Z],bb:()=>({date:m.models.date,customization:m.models.customization}),data:()=>({dropdownActive:!1,editingName:!1}),computed:{greeting(){const t=(this.customization.get("displayname")||"").trim(),e=m.utils.getDayPart(this.date.get("date"));let n={name:t,punctuation:m.utils.endsWithEndPunctuation(t)?"":"."};return n.content=t||this.editingName?`Good ${e}, `:"Good "+e,n}},methods:{toggleDropdown(t){t&&m.sendEvent("Greeting dropdown","Show dropdown"),this.$emit("stop-cycle",t),this.dropdownActive=t},showMantra(){!this.mantraManager.noMantra||this.$plus?(this.mantraManager.isEnabled()&&!this.mantraManager.getActiveItem()?this.mantraManager.getActiveItem():this.mantraManager.isEnabled()||this.mantraManager.getActiveItem()?this.mantraManager.isEnabled()&&this.mantraManager.getActiveItem()&&this.$emit("show-mantra"):(this.mantraManager.toggleEnabled(),this.mantraManager.getActiveItem()),this.dropdownActive=!1,m.sendEvent("Greeting dropdown","Show Mantra")):m.cmd("modal.open","UPSELL_MANTRAS",{sourceEvent:"Dash: show new mantra"})},editing(t){this.$emit("stop-cycle",t),this.editingName=t}}};var r=(0,n(1900).Z)(s,a,[],!1,null,null,null);r.options.__file="source/addins-vue/greetings-mantra/Greeting.vue";const d=r.exports}}]);