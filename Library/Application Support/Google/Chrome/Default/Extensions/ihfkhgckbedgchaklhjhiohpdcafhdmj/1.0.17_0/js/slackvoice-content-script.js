!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e){let n=!1,r=0;function o(t,e){return t&&t.querySelector&&(t=t.querySelector("["+e+"]"))&&t.getAttribute?t.getAttribute(e):null}function l(t){if(!t.path||!t.path.length)return;let e,n,r=t.path.length;for(let l=0;l<r&&(!t.path[l].getAttribute||(e=t.path[l].getAttribute("data-channel-id"),n=t.path[l].getAttribute("data-thread-ts"),!e))&&(e=o(t.path[l],"data-channel-id"),n=o(t.path[l],"data-thread-ts"),!e);l++);let l=function(){let t=location.href.match("https://app.slack.com/client/([0-9A-Z]+)/");if(t&&2===t.length)return t[1];return null}(),u=function(t){let e=localStorage.getItem("localConfig_v2");if(!e)return null;let n=JSON.parse(e);if(n&&n.teams&&n.teams[t])return n.teams[t].user_id;return null}(l),a="talk-talk.me";"T7N1D91K6"===l&&(a="apps2work.com");let i=`https://${a}/record?u=${u}&t=${l}&ch=${e}&src=ext-chrome&v=1.0.17`;n&&(i+="&ts="+n),window.open(i)}setInterval((function(){try{let t=function(){let t=!1,e=document.getElementsByClassName("c-texty_buttons");e||(e=document.getElementsByClassName("ql-buttons"));for(let n=0;n<e.length;n++){let r=e[n];if(!r.querySelector(".voice-record")){let t=document.createElement("button");t.classList.add("c-button-unstyled","c-icon_button","c-icon_button--light","c-icon_button--size_small","c-wysiwyg_container__button","voice-record"),t.addEventListener("click",l),t.innerHTML='<i class="c-icon c-icon--microphone" type="text" aria-hidden="true"></i>',r.prepend(t);let e=r.parentElement.getAttribute("data-buttons");e&&parseInt(e)&&r.parentElement.setAttribute("data-buttons",parseInt(e)+1)}t=!0}return t}();if(function(){let t=document.querySelectorAll(".voice-record");if(!t.length)return;let e=document.querySelector("grammarly-extension");if(!e)return;let n=e.shadowRoot.children;if(e.shadowRoot)for(let e=0;e<t.length;e++){let r=t[e];for(let t=0;t<n.length;t++){let e=n[t],o=e.getAttribute("data-grammarly-part");if(!o)continue;let l=0;"highlights"===o&&(l=40),"button"===o&&(l=15);let u=r.getBoundingClientRect().left,a=e.getBoundingClientRect().left;Math.abs(u-a)<30&&(e.style.left=u-l+"px")}}}(),t)return void(r=0);r++,r>3600&&!n&&document.querySelector(".p-workspace-layout")&&(n=!0,r=0)}catch(t){}}),500),setInterval((function(){n=!1}),432e5)}]);
//# sourceMappingURL=slackvoice-content-script.js.map